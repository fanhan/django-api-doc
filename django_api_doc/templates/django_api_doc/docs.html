{% load static %}
{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Django API Document</title>

    {% block style %}
        <link rel="stylesheet" type="text/css" href="{% static "django_api_doc/css/bootstrap.min.css" %}"/>
        <link rel="stylesheet" type="text/css" href="{% static "django_api_doc/css/style.css" %}"/>
    {% endblock %}
</head>

{% block body %}
<body>
    <div id="app">
        <h2 class="doc-title">{[ doc_title ]}</h2>
        <div class="sidebar span3">
            <ul>
                <li v-for="url_name in url_names">
                    <a href="#!{[ url_name.key ]}">{[ url_name.name ]}</a>
                </li>
            </ul>
            <div class="accordion" id="namespace">
                <div class="accordion-group" v-for="url_namespace in url_namespaces">
                    <div class="accordion-heading">
                        <b class="accordion-toggle" data-toggle="collapse" data-parent="#namespace">{[ url_namespace.name ]}</b>
                    </div>
                    <div id="{[ url_namespace.name ]}" class="accordion-body collapse in">
                        <div class="accordion-inner">
                            <ul>
                                <li v-for="url_name in url_namespace.url_names">
                                    <a href="#!{[ url_name.key ]}">{[ url_name.name ]}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="span12">
            <div class="content">
                <router-view></router-view>
            </div>
        </div>
    </div>
    <template id="doc-content">
        <div v-if="doc">
            <h2>{[ doc.title ]}</h2>
            <p class="alert alert-info">{[ doc.url ]}</p>
            <div v-for="item in doc.items">
                <div class="method">
                    <span>Method: </span>
                    <span class="label label-info">{[ item.method ]}</span>
                </div>
                <pre class="doc" v-html=" item.content|marked ">
                </pre>
            </div>
        </div>
    </template>
    <script src="{% static "django_api_doc/js/vue.min.js" %}"></script>
    <script src="{% static "django_api_doc/js/vue-router.min.js" %}?v=2"></script>
    <script src="{% static "django_api_doc/js/vue-resource.min.js" %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
    <script src="{% static "django_api_doc/js/main.js" %}"></script>
</body>
{% endblock %}
</html>